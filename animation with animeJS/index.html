<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AnimeJS</title>

    <style>
      body {
        display: grid;
        place-items: center;
        min-height: 100vh;
        background-color: #2d2d2d;
      }
      section {
        display: grid;
        grid-template-columns: repeat(10, 1fr);
        gap: 10px;
      }
      .element {
        width: 30px;
        height: 30px;
        background-color: white;
      }
    </style>
  </head>

  <body>
    <!-- container -->
    <section></section>

    <!-- import animate js -->
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"
      integrity="sha512-z4OUqw38qNLpn1libAN9BsoDx6nbNFio5lA6CuTp9NlK83b89hgyCVq+N5FdBJptINztxn1Z3SaKSKUS5UP60Q=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>

    <!-- creating elements -->
    <script>
      const section = document.querySelector('section');

      for (let index = 0; index < 100; index++) {
        const element = document.createElement('div');
        element.classList.add('element');
        section.append(element);
      }

      // animate js
      const elements = document.querySelectorAll('div');
      const animation = anime.timeline({
        targets: elements,
        easing: 'easeInOutExpo',
        loop: true,
        delay: anime.stagger(100, { grid: [10, 10], from: 'center' }),
      });
      animation
        .add({
          rotateZ: 180,
          translateY: anime.stagger(-20, {
            grid: [10, 10],
            from: 'center',
            axis: 'y',
          }),
          translateX: anime.stagger(-20, {
            grid: [10, 10],
            from: 'center',
            axis: 'x',
          }),
          opacity: 1,
        })
        .add({
          borderRadius: 50,
        })
        .add({
          scale: 0.2,
          opacity: 0.2,
        });

      animation
        .add({
          rotateZ: 180,
          translateY: anime.stagger(0, {
            grid: [10, 10],
            from: 'center',
            axis: 'y',
          }),
          translateX: anime.stagger(0, {
            grid: [10, 10],
            from: 'center',
            axis: 'x',
          }),
        })
        .add({
          scale: 1,
          borderRadius: 0,
        })
        .add({ rotateZ: -90 });
    </script>
  </body>
</html>
